<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wish-–ª–∏—Å—Ç –º–∞–ª—ã—à–∞ –ì—É—Å–µ–≤–∞ 2025</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      color: #1a202c;
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem 1rem;
    }

    .hero {
      text-align: center;
      padding: 3rem 0;
      color: white;
    }

    .hero h1 {
      font-size: clamp(2rem, 5vw, 3.5rem);
      font-weight: 700;
      margin-bottom: 1rem;
      text-shadow: 0 2px 4px rgba(0,0,0,0.3);
    }

    .hero p {
      font-size: 1.2rem;
      opacity: 0.9;
      max-width: 600px;
      margin: 0 auto 2rem;
    }

    .gifts-section {
      background: white;
      border-radius: 20px;
      padding: 3rem 2rem;
      margin: 2rem 0;
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    }

    .section-title {
      font-size: 2.5rem;
      font-weight: 700;
      text-align: center;
      margin-bottom: 1rem;
      background: linear-gradient(135deg, #667eea, #764ba2);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .section-subtitle {
      text-align: center;
      font-size: 1.1rem;
      color: #666;
      margin-bottom: 3rem;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    .gifts-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 2rem;
    }

    .gift-card {
      background: white;
      border-radius: 16px;
      padding: 2rem;
      border: 1px solid #e2e8f0;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .gift-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 40px rgba(0,0,0,0.15);
    }

    .gift-card.reserved {
      opacity: 0.6;
      background: #f8f9fa;
    }

    .gift-card.reserved::before {
      content: "–ó–ê–ë–†–û–ù–ò–†–û–í–ê–ù–û";
      position: absolute;
      top: 1rem;
      right: -2rem;
      background: #dc3545;
      color: white;
      padding: 0.5rem 3rem;
      transform: rotate(45deg);
      font-weight: 600;
      font-size: 0.8rem;
    }

    .gift-title {
      font-size: 1.3rem;
      font-weight: 600;
      margin-bottom: 0.8rem;
      color: #2d3748;
    }

    .gift-description {
      color: #666;
      margin-bottom: 1rem;
      font-size: 0.95rem;
    }

    .gift-description a {
      color: #667eea;
      text-decoration: none;
    }

    .gift-description a:hover {
      text-decoration: underline;
    }

    .gift-price {
      font-size: 1.4rem;
      font-weight: 700;
      color: #667eea;
      margin-bottom: 1.5rem;
    }

    .reserve-btn {
      width: 100%;
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border: none;
      padding: 1rem 2rem;
      border-radius: 12px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .reserve-btn:hover:not(:disabled) {
      background: linear-gradient(135deg, #5a67d8, #6b46c1);
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(102, 126, 234, 0.4);
    }

    .reserve-btn:disabled {
      background: #cbd5e0;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      backdrop-filter: blur(5px);
    }

    .modal-content {
      background-color: white;
      margin: 5% auto;
      padding: 2rem;
      border-radius: 20px;
      width: 90%;
      max-width: 500px;
      position: relative;
      animation: modalAppear 0.3s ease;
    }

    @keyframes modalAppear {
      from { opacity: 0; transform: translateY(-50px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .close {
      position: absolute;
      right: 1.5rem;
      top: 1.5rem;
      font-size: 2rem;
      font-weight: bold;
      cursor: pointer;
      color: #999;
    }

    .close:hover {
      color: #333;
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
      color: #2d3748;
    }

    .form-group input,
    .form-group textarea {
      width: 100%;
      padding: 0.8rem;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      font-size: 1rem;
      transition: border-color 0.3s ease;
    }

    .form-group input:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: #667eea;
    }

    .submit-btn {
      width: 100%;
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border: none;
      padding: 1rem;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .submit-btn:hover {
      background: linear-gradient(135deg, #5a67d8, #6b46c1);
    }

    .footer {
      text-align: center;
      padding: 2rem;
      color: white;
    }

    .footer a {
      color: white;
      text-decoration: none;
    }

    .footer a:hover {
      text-decoration: underline;
    }

    @media (max-width: 768px) {
      .gifts-grid {
        grid-template-columns: 1fr;
      }
      
      .container {
        padding: 1rem;
      }
      
      .gifts-section {
        padding: 2rem 1rem;
      }
    }

    .success-message {
      background: #d4edda;
      color: #155724;
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1rem;
      display: none;
    }

    .error-message {
      background: #f8d7da;
      color: #721c24;
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1rem;
      display: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Hero Section -->
    <div class="hero">
      <h1>üë∂ Wish-–ª–∏—Å—Ç –º–∞–ª—ã—à–∞ –ì—É—Å–µ–≤–∞</h1>
      <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–∞—à –æ—Å–æ–±–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∂–µ–ª–∞–Ω–∏–π! –ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –∏ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∞—Ä–æ–∫ –¥–ª—è –Ω–∞—à–µ–≥–æ –±—É–¥—É—â–µ–≥–æ –º–∞–ª—ã—à–∞.</p>
    </div>

    <!-- Gifts Section -->
    <div class="gifts-section">
      <h2 class="section-title">üéÅ –°–ø–∏—Å–æ–∫ –ø–æ–¥–∞—Ä–∫–æ–≤</h2>
      <p class="section-subtitle">
        –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥–∞—Ä–æ–∫, –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—Ç–µ–ª–∏ –±—ã –ø—Ä–µ–ø–æ–¥–Ω–µ—Å—Ç–∏, –∏ –Ω–∞–∂–º–∏—Ç–µ "–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å". 
        –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π.
      </p>

      <div class="gifts-grid" id="giftsGrid">
        <!-- Gifts will be populated by JavaScript -->
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      <p>
        –í–æ–ø—Ä–æ—Å—ã? –ü–∏—à–∏—Ç–µ <a href="mailto:parents@example.com">–Ω–∞–º</a> –∏–ª–∏ –∑–≤–æ–Ω–∏—Ç–µ <strong>+7 900 000-00-00</strong><br>
        –°–ø–∞—Å–∏–±–æ –∑–∞ —É—á–∞—Å—Ç–∏–µ! üíô
      </p>
    </div>
  </div>

  <!-- Modal -->
  <div id="reservationModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2 id="modalTitle">–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∞—Ä–∫–∞</h2>
      
      <div class="success-message" id="successMessage">
        –°–ø–∞—Å–∏–±–æ! –í–∞—à–∞ –±—Ä–æ–Ω—å —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞. –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.
      </div>
      
      <div class="error-message" id="errorMessage">
        –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑ –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –Ω–∞–ø—Ä—è–º—É—é.
      </div>

      <form id="reservationForm">
        <div class="form-group">
          <label for="giftName">–ü–æ–¥–∞—Ä–æ–∫:</label>
          <input type="text" id="giftName" name="giftName" readonly>
        </div>
        
        <div class="form-group">
          <label for="userName">–í–∞—à–µ –∏–º—è *:</label>
          <input type="text" id="userName" name="userName" required>
        </div>
        
        <div class="form-group">
          <label for="userPhone">–¢–µ–ª–µ—Ñ–æ–Ω *:</label>
          <input type="tel" id="userPhone" name="userPhone" required>
        </div>
        
        <div class="form-group">
          <label for="userEmail">Email:</label>
          <input type="email" id="userEmail" name="userEmail">
        </div>
        
        <div class="form-group">
          <label for="userMessage">–°–æ–æ–±—â–µ–Ω–∏–µ:</label>
          <textarea id="userMessage" name="userMessage" rows="3" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è –∏–ª–∏ –≤–æ–ø—Ä–æ—Å—ã..."></textarea>
        </div>
        
        <button type="submit" class="submit-btn">–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∞—Ä–æ–∫</button>
      </form>
    </div>
  </div>

  <script>
    // Gift data
    const gifts = [
      {
        id: 1,
        name: "–ê–≤—Ç–æ–∫—Ä–µ—Å–ª–æ Avionaut Pixel PRO 2.0 C",
        description: "–õ—é–ª—å–∫–∞ 0-13 –∫–≥, Stone Grey",
        link: "https://avionaut.ru/pixel-pro-2",
        price: "27 000 ‚ÇΩ",
        reserved: false
      },
      {
        id: 2,
        name: "Isofix-–±–∞–∑–∞ Avionaut IQ 2.0 C",
        description: "–î–ª—è Pixel / Cosmo",
        link: "https://avionaut.ru/iq-base-2",
        price: "15 000 ‚ÇΩ",
        reserved: false
      },
      {
        id: 3,
        name: "–°—Ç—É–ª—å—á–∏–∫ Peg-Perego Prima Pappa",
        description: "–¶–≤–µ—Ç Ice",
        link: "https://www.pegperego.ru/products/prima-pappa",
        price: "14 000 ‚ÇΩ",
        reserved: false
      },
      {
        id: 4,
        name: "–í–∏–¥–µ–æ-–Ω—è–Ω—è Motorola PIP1510",
        description: "–†–∞–¥–∏–æ–∫–∞–Ω–∞–ª + App",
        link: "https://motorola-home.ru/pip1510",
        price: "11 000 ‚ÇΩ",
        reserved: false
      },
      {
        id: 5,
        name: "–£–≤–ª–∞–∂–Ω–∏—Ç–µ–ª—å Philips HU4813/10",
        description: "–°–µ—Ä–∏—è 2000",
        link: "https://www.philips.ru/c-p/HU4813_10",
        price: "10 000 ‚ÇΩ",
        reserved: false
      },
      {
        id: 6,
        name: "–≠—Ä–≥–æ-—Ä—é–∫–∑–∞–∫ Ergobaby Omni Breeze",
        description: "Pearl Grey",
        link: "https://ergobaby.ru/omni-breeze",
        price: "16 000 ‚ÇΩ",
        reserved: false
      },
      {
        id: 7,
        name: "–ú–æ–ª–æ–∫–æ–æ—Ç—Å–æ—Å Medela Swing Maxi 2.0",
        description: "–î–≤–æ–π–Ω–æ–π, 2-—Ñ–∞–∑–Ω—ã–π",
        link: "https://medela.ru/product/swing-maxi",
        price: "18 000 ‚ÇΩ",
        reserved: false
      },
      {
        id: 8,
        name: "–ú–∞–Ω–µ–∂-–∫—Ä–æ–≤–∞—Ç—å Joie Commuter Change",
        description: "–° –ø–µ–ª–µ–Ω–∞–ª—å–Ω—ã–º –±–ª–æ–∫–æ–º",
        link: "https://joie.com/ru/commuter-change",
        price: "11 000 ‚ÇΩ",
        reserved: false
      },
      {
        id: 9,
        name: "–ó–∏–º–Ω–∏–π –∫–æ–Ω–≤–µ—Ä—Ç Elodie Details",
        description: "–¶–≤–µ—Ç Dune",
        link: "https://elodiedetails.com",
        price: "9 000 ‚ÇΩ",
        reserved: false
      },
      {
        id: 10,
        name: "–°–ø–∞–ª—å–Ω—ã–π –º–µ—à–æ–∫ Love to Dream TOG 2.5",
        description: "–†–∞–∑–º–µ—Ä M",
        link: "https://lovetodream.ru/product/swaddle-up-transition-bag-2-5tog",
        price: "4 500 ‚ÇΩ",
        reserved: false
      }
    ];

    // Google Sheets integration
    const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbwak3fkK3ur4KtMP8-pW4GTQV6TvcYqXe7kEyV4XSL88VIvFx10U2_WFebplygjAmwzfw/exec';

    // Render gifts
    function renderGifts() {
      const giftsGrid = document.getElementById('giftsGrid');
      giftsGrid.innerHTML = '';

      gifts.forEach(gift => {
        const giftCard = document.createElement('div');
        giftCard.className = `gift-card ${gift.reserved ? 'reserved' : ''}`;
        
        giftCard.innerHTML = `
          <h3 class="gift-title">${gift.name}</h3>
          <p class="gift-description">
            <a href="${gift.link}" target="_blank">${gift.description}</a>
          </p>
          <div class="gift-price">${gift.price}</div>
          <button class="reserve-btn" onclick="openReservationModal(${gift.id})" ${gift.reserved ? 'disabled' : ''}>
            ${gift.reserved ? '–£–∂–µ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–æ' : '–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å'}
          </button>
        `;
        
        giftsGrid.appendChild(giftCard);
      });
    }

    // Modal functionality
    function openReservationModal(giftId) {
      const gift = gifts.find(g => g.id === giftId);
      if (!gift || gift.reserved) return;

      document.getElementById('giftName').value = gift.name;
      document.getElementById('modalTitle').textContent = `–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: ${gift.name}`;
      document.getElementById('reservationModal').style.display = 'block';
      
      // Hide messages
      document.getElementById('successMessage').style.display = 'none';
      document.getElementById('errorMessage').style.display = 'none';
    }

    function closeModal() {
      document.getElementById('reservationModal').style.display = 'none';
      document.getElementById('reservationForm').reset();
    }

    // Form submission
    async function submitReservation(formData) {
      try {
        console.log('–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö:', formData);
        
        // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º FormData –≤ URLSearchParams –¥–ª—è –ª—É—á—à–µ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
        const urlParams = new URLSearchParams();
        for (let [key, value] of formData.entries()) {
          urlParams.append(key, value);
        }
        
        console.log('URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:', urlParams.toString());
        
        const response = await fetch(GOOGLE_SCRIPT_URL, {
          method: 'POST',
          mode: 'cors',
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
          },
          body: urlParams.toString()
        });
        
        console.log('–û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞:', response);
        console.log('Status:', response.status);
        console.log('Headers:', response.headers);
        
        const responseText = await response.text();
        console.log('–¢–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞:', responseText);
        
        let result;
        try {
          result = JSON.parse(responseText);
        } catch (parseError) {
          console.error('–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON:', parseError);
          console.log('–ò—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞:', responseText);
          result = { status: 'error', message: '–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞: ' + responseText };
        }
        
        if (result.status === 'success') {
          document.getElementById('successMessage').style.display = 'block';
          document.getElementById('reservationForm').style.display = 'none';
          
          // Mark gift as reserved (in real app, this would come from server)
          const giftName = formData.get('giftName');
          const gift = gifts.find(g => g.name === giftName);
          if (gift) {
            gift.reserved = true;
            renderGifts();
          }
          
          setTimeout(() => {
            closeModal();
            document.getElementById('reservationForm').style.display = 'block';
          }, 3000);
        } else {
          throw new Error(result.message || '–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞');
        }
      } catch (error) {
        console.error('Error:', error);
        document.getElementById('errorMessage').style.display = 'block';
        document.getElementById('errorMessage').innerHTML = `
          <strong>–û—à–∏–±–∫–∞:</strong> ${error.message}<br>
          <small>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π</small>
        `;
      }
    }

    // Event listeners
    document.addEventListener('DOMContentLoaded', function() {
      // Render gifts
      renderGifts();
      
      // Modal events
      document.querySelector('.close').onclick = closeModal;
      window.onclick = function(event) {
        const modal = document.getElementById('reservationModal');
        if (event.target === modal) {
          closeModal();
        }
      };
      
      // Form submission
      document.getElementById('reservationForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã –≤—Ä—É—á–Ω—É—é
        const formData = new FormData();
        formData.append('giftName', document.getElementById('giftName').value);
        formData.append('userName', document.getElementById('userName').value);
        formData.append('userPhone', document.getElementById('userPhone').value);
        formData.append('userEmail', document.getElementById('userEmail').value);
        formData.append('userMessage', document.getElementById('userMessage').value);
        formData.append('timestamp', new Date().toISOString());
        
        // –í—ã–≤–æ–¥–∏–º –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Å–æ–ª—å –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
        console.log('–û—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:');
        for (let [key, value] of formData.entries()) {
          console.log(key, ':', value);
        }
        
        submitReservation(formData);
      });
    });
  </script>
</body>
</html>
